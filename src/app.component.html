<div class="min-h-screen text-gray-200">
    <header class="sticky top-0 z-10 bg-gray-900/60 backdrop-blur-xl border-b border-white/10">
        <div class="max-w-7xl mx-auto py-4 px-4 sm:px-6 lg:px-8 flex justify-between items-center">
            <div class="flex items-center space-x-3">
                <svg class="h-8 w-8 text-indigo-400" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M12 7.5h1.5m-1.5 3h1.5m-7.5 3h7.5m-7.5 3h7.5m3-9h3.375c.621 0 1.125.504 1.125 1.125V18a2.25 2.25 0 01-2.25 2.25M16.5 7.5V18a2.25 2.25 0 002.25 2.25M16.5 7.5V4.875c0-.621-.504-1.125-1.125-1.125H4.125C3.504 3.75 3 4.254 3 4.875V18a2.25 2.25 0 002.25 2.25h13.5M6 7.5h3v3H6v-3z" />
                </svg>
                <h1 class="text-2xl font-bold text-white">{{ t().title }}</h1>
            </div>
            <div class="flex items-center space-x-2">
                @for(lang of availableLanguages; track lang.code) {
                    <button (click)="setLanguage(lang.code)" [class]="'px-2 py-1 text-xs font-medium rounded ' + (language() === lang.code ? 'bg-indigo-600 text-white' : 'text-gray-300 hover:bg-white/10 hover:text-white')">
                        {{ lang.name }}
                    </button>
                }
            </div>
        </div>
    </header>
    <main class="max-w-7xl mx-auto py-6 sm:px-6 lg:px-8">
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 items-start">
            
            <!-- Wizard Panel -->
            <div class="bg-white/10 backdrop-blur-2xl p-6 rounded-2xl shadow-2xl border border-white/10 space-y-6">
                <!-- Templates Dropdown -->
                <div class="pb-4">
                    <label for="template-select" class="block text-sm font-medium text-gray-300 mb-1">{{ t().templatesTitle }}</label>
                    <select id="template-select" (change)="loadTemplate($any($event.target).value)" class="w-full pl-3 pr-10 py-2 text-base bg-white/10 border-white/20 focus:outline-none focus:ring-2 focus:ring-offset-0 focus:ring-indigo-500 sm:text-sm rounded-md text-white">
                        <option value="" class="bg-gray-800">{{ t().selectTemplatePlaceholder }}</option>
                        @for(template of templates; track template.key) {
                            <option [value]="template.key" class="bg-gray-800">
                                {{ t()['template_' + template.key] }}
                            </option>
                        }
                    </select>
                </div>
                
                <!-- Stepper -->
                <div class="border-y border-white/10 py-4">
                    <nav class="flex space-x-4" aria-label="Tabs">
                        @for (s of steps; track s.id) {
                            <button (click)="goToStep(s.id)" 
                                [class]="'px-3 py-2 font-medium text-sm rounded-md ' + (step() === s.id ? 'bg-indigo-500 text-white' : 'text-gray-300 hover:text-white')">
                                {{ t()[s.nameKey] }}
                            </button>
                        }
                    </nav>
                </div>

                <!-- Wizard Content -->
                @switch (step()) {
                    @case (1) {
                        <div class="space-y-4 animate-fade-in">
                            <h2 class="text-lg font-semibold text-gray-100">{{ t().step1Title }}</h2>
                            <!-- Message Type -->
                            <div>
                                <label class="block text-sm font-medium text-gray-300">{{ t().messageTypeLabel }}</label>
                                <div class="mt-1 flex rounded-md">
                                    @for (type of messageTypes; track type) {
                                        <button (click)="updateField('messageType', type)"
                                            [class]="'relative inline-flex items-center px-4 py-2 border text-sm font-medium focus:z-10 focus:outline-none focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500 ' + (notamForm().messageType === type ? 'bg-indigo-600 text-white border-indigo-600' : 'bg-white/10 text-gray-300 border-white/20 hover:bg-white/20') + ($first ? ' rounded-l-md' : '') + ($last ? ' -ml-px rounded-r-md' : ' -ml-px')">
                                            {{ type }}
                                        </button>
                                    }
                                </div>
                            </div>
                            
                            @if (notamForm().messageType === 'NOTAMR' || notamForm().messageType === 'NOTAMC') {
                                <div class="animate-fade-in">
                                    <label for="referenceNotam" class="block text-sm font-medium text-gray-300">{{ t().referenceNotamLabel }}</label>
                                    <input type="text" id="referenceNotam" [value]="notamForm().referenceNotam" (input)="updateField('referenceNotam', $event)" class="mt-1 block w-full px-3 py-2 bg-white/10 border border-white/20 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-0 focus:ring-indigo-500 sm:text-sm text-white placeholder-gray-400">
                                </div>
                            }

                            <!-- Category -->
                            <div>
                                <label for="category" class="block text-sm font-medium text-gray-300">{{ t().categoryLabel }}</label>
                                <select id="category" [value]="notamForm().category" (change)="updateField('category', $event)" class="mt-1 block w-full pl-3 pr-10 py-2 text-base bg-white/10 border-white/20 focus:outline-none focus:ring-2 focus:ring-offset-0 focus:ring-indigo-500 sm:text-sm rounded-md text-white">
                                    <option value="" disabled class="bg-gray-800">{{ t().selectCategoryPlaceholder }}</option>
                                    @for (cat of categories; track cat) {
                                        <option [value]="cat" class="bg-gray-800">{{ t()['category_' + cat] }}</option>
                                    }
                                </select>
                            </div>

                            @if (notamForm().category) {
                                <div class="animate-fade-in">
                                    <label for="subject" class="block text-sm font-medium text-gray-300">{{ t().subjectLabel }}</label>
                                    <select id="subject" [value]="notamForm().subject" (change)="updateField('subject', $event)" class="mt-1 block w-full pl-3 pr-10 py-2 text-base bg-white/10 border-white/20 focus:outline-none focus:ring-2 focus:ring-offset-0 focus:ring-indigo-500 sm:text-sm rounded-md text-white">
                                        <option value="" disabled class="bg-gray-800">{{ t().selectSubjectPlaceholder }}</option>
                                        @for (sub of availableSubjects(); track sub) {
                                            <option [value]="sub" class="bg-gray-800">{{ sub }}</option>
                                        }
                                    </select>
                                </div>
                            }

                             @if (notamForm().subject) {
                                <div class="animate-fade-in">
                                    <label for="condition" class="block text-sm font-medium text-gray-300">{{ t().conditionLabel }}</label>
                                    <select id="condition" [value]="notamForm().condition" (change)="updateField('condition', $event)" class="mt-1 block w-full pl-3 pr-10 py-2 text-base bg-white/10 border-white/20 focus:outline-none focus:ring-2 focus:ring-offset-0 focus:ring-indigo-500 sm:text-sm rounded-md text-white">
                                        <option value="" disabled class="bg-gray-800">{{ t().selectConditionPlaceholder }}</option>
                                        @for (con of availableConditions(); track con) {
                                            <option [value]="con" class="bg-gray-800">{{ con }}</option>
                                        }
                                    </select>
                                </div>
                            }
                        </div>
                    }
                    @case (2) {
                        <div class="space-y-4 animate-fade-in">
                            <h2 class="text-lg font-semibold text-gray-100">{{ t().step2Title }}</h2>
                            <div class="relative">
                                <label for="itemA_location" class="block text-sm font-medium text-gray-300">{{ t().itemALabel }}</label>
                                <input type="text" id="itemA_location"
                                       [value]="notamForm().itemA_location"
                                       (input)="onAirportInput($event)"
                                       (focus)="showAirportResults.set(true)"
                                       (blur)="onAirportBlur()"
                                       placeholder="EGLL or London Heathrow"
                                       autocomplete="off"
                                       class="mt-1 block w-full px-3 py-2 bg-white/10 border border-white/20 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-0 focus:ring-indigo-500 sm:text-sm text-white placeholder-gray-400">
                            
                                @if (showAirportResults() && filteredAirports().length > 0) {
                                    <ul class="absolute z-20 w-full bg-slate-800 border border-white/20 rounded-md shadow-lg mt-1 max-h-60 overflow-y-auto">
                                        @for (airport of filteredAirports(); track airport.icao) {
                                            <li (mousedown)="selectAirport(airport.icao)" class="cursor-pointer select-none relative py-2 px-3 text-gray-200 hover:bg-indigo-600">
                                                <div class="flex items-center">
                                                    <span class="font-bold w-12">{{ airport.icao }}</span>
                                                    <span class="ml-2 text-sm truncate">{{ airport.name }}, {{ airport.city }}</span>
                                                </div>
                                            </li>
                                        }
                                    </ul>
                                }
                            </div>
                            <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                                <div>
                                    <label for="itemB_start" class="block text-sm font-medium text-gray-300">{{ t().itemBLabel }}</label>
                                    <input type="text" id="itemB_start" [value]="notamForm().itemB_start" (input)="updateField('itemB_start', $event)" placeholder="2407201200" class="mt-1 block w-full px-3 py-2 bg-white/10 border border-white/20 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-0 focus:ring-indigo-500 sm:text-sm text-white placeholder-gray-400">
                                </div>
                                <div>
                                    <label for="itemC_end" class="block text-sm font-medium text-gray-300">{{ t().itemCLabel }}</label>
                                    <input type="text" id="itemC_end" [value]="notamForm().itemC_end" (input)="updateField('itemC_end', $event)" placeholder="2407201800" class="mt-1 block w-full px-3 py-2 bg-white/10 border border-white/20 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-0 focus:ring-indigo-500 sm:text-sm text-white placeholder-gray-400">
                                </div>
                            </div>
                            <!-- Schedule -->
                            <div>
                                <label class="block text-sm font-medium text-gray-300 mb-1">{{ t().itemDLabel }}</label>
                                <div class="grid grid-cols-1 sm:grid-cols-3 gap-2">
                                    <!-- Frequency Dropdown -->
                                    <div>
                                        <label for="schedule_frequency" class="block text-xs font-medium text-gray-400">{{ t().scheduleFrequencyLabel }}</label>
                                        <select id="schedule_frequency" [value]="notamForm().itemD_schedule.frequency" (change)="updateScheduleField('frequency', $event)" class="mt-1 block w-full pl-3 pr-10 py-2 text-base bg-white/10 border-white/20 focus:outline-none focus:ring-2 focus:ring-offset-0 focus:ring-indigo-500 sm:text-sm rounded-md text-white">
                                            <option value="" class="bg-gray-800">{{ t().scheduleSelectFreqPlaceholder }}</option>
                                            @for (freq of scheduleFrequencies; track freq) {
                                                <option [value]="freq" class="bg-gray-800">{{ t()['freq_' + freq.replace('-', '_')] }}</option>
                                            }
                                        </select>
                                    </div>
                                    <!-- Start Time -->
                                    <div>
                                        <label for="schedule_startTime" class="block text-xs font-medium text-gray-400">{{ t().scheduleStartTimeLabel }}</label>
                                        <input type="time" id="schedule_startTime" [value]="formatTimeToInput(notamForm().itemD_schedule.startTime)" (input)="updateScheduleField('startTime', $event)" class="mt-1 block w-full px-3 py-2 bg-white/10 border border-white/20 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-0 focus:ring-indigo-500 sm:text-sm text-white placeholder-gray-400">
                                    </div>
                                    <!-- End Time -->
                                    <div>
                                        <label for="schedule_endTime" class="block text-xs font-medium text-gray-400">{{ t().scheduleEndTimeLabel }}</label>
                                        <input type="time" id="schedule_endTime" [value]="formatTimeToInput(notamForm().itemD_schedule.endTime)" (input)="updateScheduleField('endTime', $event)" class="mt-1 block w-full px-3 py-2 bg-white/10 border border-white/20 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-0 focus:ring-indigo-500 sm:text-sm text-white placeholder-gray-400">
                                    </div>
                                </div>
                            </div>
                             <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                                <div>
                                    <label for="itemF_lower" class="block text-sm font-medium text-gray-300">{{ t().itemFLabel }}</label>
                                    <input type="text" id="itemF_lower" [value]="notamForm().itemF_lower" (input)="updateField('itemF_lower', $event)" placeholder="000" class="mt-1 block w-full px-3 py-2 bg-white/10 border border-white/20 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-0 focus:ring-indigo-500 sm:text-sm text-white placeholder-gray-400">
                                </div>
                                <div>
                                    <label for="itemG_upper" class="block text-sm font-medium text-gray-300">{{ t().itemGLabel }}</label>
                                    <input type="text" id="itemG_upper" [value]="notamForm().itemG_upper" (input)="updateField('itemG_upper', $event)" placeholder="999" class="mt-1 block w-full px-3 py-2 bg-white/10 border border-white/20 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-0 focus:ring-indigo-500 sm:text-sm text-white placeholder-gray-400">
                                </div>
                            </div>
                        </div>
                    }
                    @case (3) {
                        <div class="space-y-4 animate-fade-in">
                            <h2 class="text-lg font-semibold text-gray-100">{{ t().step3Title }}</h2>
                            @if (notamForm().subject === 'RWY' || notamForm().subject === 'TWY' || notamForm().subject === 'APRON') {
                                <div>
                                    <label for="designator" class="block text-sm font-medium text-gray-300">{{ t()[notamForm().subject.toLowerCase() + 'DesignatorLabel'] }}</label>
                                    <input type="text" id="designator" [value]="notamForm().details.designator" (input)="updateDetailField('designator', $event)" placeholder="09L/27R or TWY A" class="mt-1 block w-full px-3 py-2 bg-white/10 border border-white/20 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-0 focus:ring-indigo-500 sm:text-sm text-white placeholder-gray-400">
                                </div>
                            }
                             @if (notamForm().subject === 'NAVAID') {
                                <div>
                                    <label for="navaidId" class="block text-sm font-medium text-gray-300">{{ t().navaidIdLabel }}</label>
                                    <input type="text" id="navaidId" [value]="notamForm().details.navaidId" (input)="updateDetailField('navaidId', $event)" placeholder="DUB VOR" class="mt-1 block w-full px-3 py-2 bg-white/10 border border-white/20 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-0 focus:ring-indigo-500 sm:text-sm text-white placeholder-gray-400">
                                </div>
                            }
                             @if (notamForm().subject === 'AIRSPACE') {
                                <div class="space-y-4">
                                    <div>
                                        <label for="airspaceName" class="block text-sm font-medium text-gray-300">{{ t().airspaceNameLabel }}</label>
                                        <input type="text" id="airspaceName" [value]="notamForm().details.airspaceName" (input)="updateDetailField('airspaceName', $event)" placeholder="TEMP RA DANGER ZONE" class="mt-1 block w-full px-3 py-2 bg-white/10 border border-white/20 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-0 focus:ring-indigo-500 sm:text-sm text-white placeholder-gray-400">
                                    </div>
                                    <div>
                                        <label for="airspaceCoords" class="block text-sm font-medium text-gray-300">{{ t().airspaceCoordsLabel }}</label>
                                        <input type="text" id="airspaceCoords" [value]="notamForm().details.airspaceCoords" (input)="updateDetailField('airspaceCoords', $event)" placeholder="512856N 0002742W RADIUS 5NM" class="mt-1 block w-full px-3 py-2 bg-white/10 border border-white/20 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-0 focus:ring-indigo-500 sm:text-sm text-white placeholder-gray-400">
                                    </div>
                                </div>
                            }
                            @if (notamForm().subject === 'OBSTACLE') {
                                <div class="space-y-4">
                                    <div>
                                        <label for="obstacleType" class="block text-sm font-medium text-gray-300">{{ t().obstacleTypeLabel }}</label>
                                        <input type="text" id="obstacleType" [value]="notamForm().details.obstacleType" (input)="updateDetailField('obstacleType', $event)" placeholder="CRANE" class="mt-1 block w-full px-3 py-2 bg-white/10 border border-white/20 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-0 focus:ring-indigo-500 sm:text-sm text-white placeholder-gray-400">
                                    </div>
                                    <div>
                                        <label for="obstacleCoords" class="block text-sm font-medium text-gray-300">{{ t().obstaclePositionLabel }}</label>
                                        <input type="text" id="obstacleCoords" [value]="notamForm().details.obstacleCoords" (input)="updateDetailField('obstacleCoords', $event)" placeholder="512856N 0002742W" class="mt-1 block w-full px-3 py-2 bg-white/10 border border-white/20 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-0 focus:ring-indigo-500 sm:text-sm text-white placeholder-gray-400">
                                    </div>
                                    <div>
                                        <label for="obstacleHeight" class="block text-sm font-medium text-gray-300">{{ t().obstacleHeightLabel }}</label>
                                        <input type="text" id="obstacleHeight" [value]="notamForm().details.obstacleHeight" (input)="updateDetailField('obstacleHeight', $event)" placeholder="250FT AGL / 450FT AMSL" class="mt-1 block w-full px-3 py-2 bg-white/10 border border-white/20 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-0 focus:ring-indigo-500 sm:text-sm text-white placeholder-gray-400">
                                    </div>
                                     <div>
                                        <label class="block text-sm font-medium text-gray-300">{{ t().lightingLabel }}</label>
                                        <div class="mt-1 flex items-center space-x-4">
                                            <label class="inline-flex items-center">
                                                <input type="radio" name="lighting" [checked]="notamForm().details.lighting === true" (change)="updateDetailField('lighting', true)" class="form-radio h-4 w-4 text-indigo-600 bg-transparent border-white/20 focus:ring-indigo-500">
                                                <span class="ml-2">{{ t().lighted }}</span>
                                            </label>
                                             <label class="inline-flex items-center">
                                                <input type="radio" name="lighting" [checked]="notamForm().details.lighting === false" (change)="updateDetailField('lighting', false)" class="form-radio h-4 w-4 text-indigo-600 bg-transparent border-white/20 focus:ring-indigo-500">
                                                <span class="ml-2">{{ t().notLighted }}</span>
                                            </label>
                                        </div>
                                    </div>
                                </div>
                            }
                             <div>
                                <label for="itemE_text" class="block text-sm font-medium text-gray-300">{{ t().itemELabel }}</label>
                                <textarea id="itemE_text" rows="4" [value]="autoEText()" (input)="updateField('itemE_text', $event)" class="mt-1 block w-full px-3 py-2 bg-white/10 border border-white/20 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-0 focus:ring-indigo-500 sm:text-sm font-mono text-white placeholder-gray-400"></textarea>
                                <p class="mt-2 text-xs text-gray-400">{{ t().itemEHelpText }}</p>
                            </div>
                        </div>
                    }
                }
                
                <!-- Navigation -->
                <div class="flex justify-between items-center pt-4 border-t border-white/10">
                    <button (click)="prevStep()" [disabled]="step() === 1" class="inline-flex items-center px-4 py-2 border border-white/20 text-sm font-medium rounded-md shadow-sm text-gray-200 bg-white/10 hover:bg-white/20 disabled:bg-white/5 disabled:text-gray-500 disabled:cursor-not-allowed">
                        {{ t().prevButton }}
                    </button>
                    @if (step() < 3) {
                      <button (click)="nextStep()" class="inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
                          {{ t().nextButton }}
                      </button>
                    } @else {
                      <div class="flex items-center space-x-2">
                        <button (click)="resetForm()" class="inline-flex items-center px-4 py-2 border border-red-500/50 text-sm font-medium rounded-md shadow-sm text-red-300 bg-red-500/20 hover:bg-red-500/40 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-slate-900 focus:ring-red-500">
                            {{ t().resetButton }}
                        </button>
                        <button (click)="showModal()" class="inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
                            {{ t().showButton }}
                        </button>
                      </div>
                    }
                </div>
            </div>

            <!-- Preview Panel -->
            <div class="sticky top-24">
                <div class="bg-white/10 backdrop-blur-2xl p-6 rounded-2xl shadow-2xl border border-white/10">
                    <div class="flex justify-between items-center mb-4">
                        <h2 class="text-lg font-semibold text-white">{{ t().previewTitle }}</h2>
                        <div class="flex space-x-2">
                            <button (click)="copyToClipboard()" [title]="t().copyTooltip" class="p-2 rounded-full bg-white/10 hover:bg-white/20 text-gray-300 hover:text-white focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-white">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z" /></svg>
                            </button>
                             <button (click)="downloadFile('txt')" [title]="t().downloadTooltip" class="p-2 rounded-full bg-white/10 hover:bg-white/20 text-gray-300 hover:text-white focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-white">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4" /></svg>
                            </button>
                        </div>
                    </div>
                    <pre class="bg-black/40 text-green-300 p-4 rounded-lg text-sm whitespace-pre-wrap font-mono">{{ finalNotam() }}</pre>
                </div>
            </div>
        </div>
    </main>

    <!-- Modal -->
    @if (isModalVisible()) {
        <div (click)="closeModal()" class="fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 animate-fade-in">
            <div (click)="$event.stopPropagation()" class="bg-slate-800/60 backdrop-blur-2xl border border-white/20 rounded-2xl shadow-2xl p-6 w-full max-w-3xl relative m-4">
                <button (click)="closeModal()" class="absolute top-3 right-3 text-gray-400 hover:text-white text-2xl leading-none">&times;</button>
                <div class="flex justify-between items-center mb-4 border-b border-white/10 pb-3">
                    <h2 class="text-xl font-semibold text-white">{{ t().modalTitle }}</h2>
                    <div class="flex space-x-2">
                        <button (click)="copyToClipboard()" [title]="t().copyTooltip" class="p-2 rounded-full bg-white/10 hover:bg-white/20 text-gray-300 hover:text-white focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-white">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z" /></svg>
                        </button>
                    </div>
                </div>
                <pre class="bg-black/40 text-green-300 p-4 rounded-lg text-sm whitespace-pre-wrap font-mono max-h-[60vh] overflow-y-auto">{{ finalNotam() }}</pre>
                <div class="mt-6 text-right">
                    <button (click)="closeModal()" class="inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
                        {{ t().closeButton }}
                    </button>
                </div>
            </div>
        </div>
    }
</div>